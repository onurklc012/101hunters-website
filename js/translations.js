// =====================================================
// TRANSLATIONS - English, Turkish & Deutsch
// =====================================================

const translations = {
    en: {
        // Navigation
        nav_home: "Home",
        nav_about: "About",
        nav_operations: "Operations",
        nav_leadership: "Leadership",
        nav_gallery: "Gallery",
        nav_join: "Join Us",

        // Hero
        hero_motto: '"There are 2 types of squadrons; Hunters and our targets."',
        hero_discord: "Join Discord",
        hero_learn: "Learn More",
        hero_scroll: "Scroll",

        // About Section
        about_title: "About <span>The Hunters</span>",
        about_p1: "The 101st Hunter Squadron is an elite DCS virtual fighter squadron dedicated to delivering the ultimate combat flight simulation experience. Based in Adana, we bring together skilled pilots from around the world who share a passion for tactical excellence and authentic military aviation.",
        about_p2: "We primarily operate the F-16 Fighting Falcon and F/A-18C Hornet, mastering both air-to-air combat and precision strike missions. Our squadron emphasizes teamwork, continuous training, and maintaining the highest standards of virtual combat proficiency.",
        about_f16_title: "F-16 Viper",
        about_f16_desc: "Multi-role excellence",
        about_f18_title: "F/A-18 Hornet",
        about_f18_desc: "Carrier operations",
        about_tactical_title: "Tactical Focus",
        about_tactical_desc: "Real-world tactics",
        about_global_title: "Global Community",
        about_global_desc: "United in the skies",

        // Operations Section
        ops_subtitle: "What We Do",
        ops_title: "Operations",
        ops_training_title: "Training",
        ops_training_desc: "Comprehensive training programs covering everything from basic flight fundamentals to advanced combat tactics. We ensure every pilot reaches their full potential.",
        ops_combat_title: "Combat Missions",
        ops_combat_desc: "Regular combat missions featuring air superiority, strike packages, SEAD operations, and dynamic campaign scenarios against skilled opposition.",
        ops_joint_title: "Joint Operations",
        ops_joint_desc: "Collaborative exercises with other squadrons and communities. Experience large-scale battles and coordinated strikes that test your teamwork.",
        ops_competitive_title: "Competitive Events",
        ops_competitive_desc: "Participate in tournaments, red flag exercises, and competitive events where Hunters prove their dominance in the virtual skies.",
        ops_planning_title: "Mission Planning",
        ops_planning_desc: "Detailed briefings, tactical planning sessions, and debriefs. Learn proper military planning procedures and execution strategies.",
        ops_casual_title: "Casual Flights",
        ops_casual_desc: "Not every sortie is serious! Enjoy casual flying, free flight sessions, and fun events with your fellow squadron members.",

        // DCS Academy Section
        academy_subtitle: "Level Up Your Skills",
        academy_title: "DCS Academy",
        academy_desc: "Our free training app for DCS pilots. Interactive lessons, quizzes, cockpit guides, and tactical training â€” all in one place.",
        academy_feat1: "ğŸ“š F-16C & F/A-18C lesson modules",
        academy_feat2: "ğŸ§  Interactive quiz system with XP",
        academy_feat3: "ğŸ¯ Brevity codes & tactical training",
        academy_feat4: "ğŸ“‹ Cold start checklists",
        academy_open: "Open Web App",
        academy_download: "Download App",

        // Leadership Section
        leadership_subtitle: "Our Command",
        leadership_title: "Leadership",
        leader_onur_role: "Squadron Owner",
        leader_tk_role: "Squadron Co-Lead",

        // Gallery Section
        gallery_subtitle: "In Action",
        gallery_title: "Gallery",

        // Recruitment Section
        recruit_subtitle: "Ready to Hunt? Or Become the Prey?",
        recruit_title: "Join The <span>Hunters</span>",
        recruit_desc: "The 101st Hunter Squadron is actively recruiting motivated pilots who want to be part of an elite virtual squadron. We're not looking for perfection â€” we're looking for dedication.",
        recruit_attendance_title: "Attendance",
        recruit_attendance_desc: "Be active and participate regularly in squadron events and missions.",
        recruit_commitment_title: "Commitment",
        recruit_commitment_desc: "Show dedication to improving your skills and supporting your wingmen.",
        recruit_teamwork_title: "Teamwork",
        recruit_teamwork_desc: "Work well with others and contribute positively to the squadron culture.",
        recruit_apply: "Apply on Discord",

        // Server Status Section
        server_subtitle: "Live Servers (3)",
        server_title: "Server Status",
        server_checking: "Checking...",
        server_loading: "Loading mission data...",
        server_map: "Current Map",
        server_players: "Players Online",
        server_time: "Mission Time",
        server_player_list: "Online Pilots",
        server_note: "Server data updates every 30 seconds. Join our Discord for real-time updates!",

        // Leaderboard Section
        web_lb_nav: "Leaderboard",
        web_lb_subtitle: "Caucasus Extended Dynamic Campaign",
        web_lb_title: "ğŸ† Leaderboard",
        web_lb_total: "Total Players",
        web_lb_active: "Active Pilots",
        web_lb_highest: "Highest Score",
        web_lb_rank: "#",
        web_lb_pilot: "Pilot",
        web_lb_credits_col: "Credits",
        web_lb_auto_update: "Auto-refreshes every 60 seconds",

        // Footer
        footer_copyright: 'Â© 2025 101st Hunter Squadron. All rights reserved.<br><em>"There are 2 types of squadrons; Hunters and our targets."</em>'
    },

    tr: {
        // Navigation
        nav_home: "Ana Sayfa",
        nav_about: "HakkÄ±mÄ±zda",
        nav_operations: "Operasyonlar",
        nav_leadership: "Liderlik",
        nav_gallery: "Galeri",
        nav_join: "Bize KatÄ±l",

        // Hero
        hero_motto: '"Ä°ki tÃ¼r filo vardÄ±r; AvcÄ±lar ve hedefleri."',
        hero_discord: "Discord'a KatÄ±l",
        hero_learn: "Daha Fazla",
        hero_scroll: "KaydÄ±r",

        // About Section
        about_title: "<span>AvcÄ±lar</span> HakkÄ±nda",
        about_p1: "101. AvcÄ± Filosu, en Ã¼st dÃ¼zey muharebe uÃ§uÅŸ simÃ¼lasyonu deneyimi sunmaya adanmÄ±ÅŸ seÃ§kin bir DCS sanal savaÅŸ filosudur. Adana merkezli olan filomuz, taktik mÃ¼kemmellik ve otantik askeri havacÄ±lÄ±k tutkusunu paylaÅŸan dÃ¼nyanÄ±n dÃ¶rt bir yanÄ±ndan yetenekli pilotlarÄ± bir araya getirmektedir.",
        about_p2: "Ã–ncelikli olarak F-16 Fighting Falcon ve F/A-18C Hornet uÃ§aklarÄ±nÄ± kullanarak hem havadan havaya muharebe hem de hassas saldÄ±rÄ± gÃ¶revlerinde uzmanlaÅŸÄ±yoruz. Filomuz ekip Ã§alÄ±ÅŸmasÄ±nÄ±, sÃ¼rekli eÄŸitimi ve en yÃ¼ksek sanal muharebe yetkinlik standartlarÄ±nÄ± korumayÄ± Ã¶n planda tutar.",
        about_f16_title: "F-16 Viper",
        about_f16_desc: "Ã‡ok gÃ¶revli mÃ¼kemmellik",
        about_f18_title: "F/A-18 Hornet",
        about_f18_desc: "UÃ§ak gemisi operasyonlarÄ±",
        about_tactical_title: "Taktik OdaklÄ±",
        about_tactical_desc: "GerÃ§ek dÃ¼nya taktikleri",
        about_global_title: "KÃ¼resel Topluluk",
        about_global_desc: "GÃ¶klerde birleÅŸik",

        // Operations Section
        ops_subtitle: "Ne YapÄ±yoruz",
        ops_title: "Operasyonlar",
        ops_training_title: "EÄŸitim",
        ops_training_desc: "Temel uÃ§uÅŸ prensiplerinden ileri muharebe taktiklerine kadar her ÅŸeyi kapsayan kapsamlÄ± eÄŸitim programlarÄ±. Her pilotun tam potansiyeline ulaÅŸmasÄ±nÄ± saÄŸlÄ±yoruz.",
        ops_combat_title: "Muharebe GÃ¶revleri",
        ops_combat_desc: "Hava Ã¼stÃ¼nlÃ¼ÄŸÃ¼, saldÄ±rÄ± paketleri, SEAD operasyonlarÄ± ve yetenekli muhaliflere karÅŸÄ± dinamik kampanya senaryolarÄ±nÄ± iÃ§eren dÃ¼zenli muharebe gÃ¶revleri.",
        ops_joint_title: "Ortak Operasyonlar",
        ops_joint_desc: "DiÄŸer filolar ve topluluklarla ortak tatbikatlar. Ekip Ã§alÄ±ÅŸmanÄ±zÄ± test eden bÃ¼yÃ¼k Ã¶lÃ§ekli muharebeleri ve koordineli saldÄ±rÄ±larÄ± deneyimleyin.",
        ops_competitive_title: "YarÄ±ÅŸma Etkinlikleri",
        ops_competitive_desc: "AvcÄ±larÄ±n sanal gÃ¶klerdeki Ã¼stÃ¼nlÃ¼klerini kanÄ±tladÄ±ÄŸÄ± turnuvalara, red flag tatbikatlarÄ±na ve yarÄ±ÅŸma etkinliklerine katÄ±lÄ±n.",
        ops_planning_title: "GÃ¶rev Planlama",
        ops_planning_desc: "DetaylÄ± brifinglar, taktik planlama oturumlarÄ± ve debrifler. Uygun askeri planlama prosedÃ¼rlerini ve icra stratejilerini Ã¶ÄŸrenin.",
        ops_casual_title: "Rahat UÃ§uÅŸlar",
        ops_casual_desc: "Her gÃ¶rev ciddi deÄŸil! Filo arkadaÅŸlarÄ±nÄ±zla rahat uÃ§uÅŸ, serbest uÃ§uÅŸ seanslarÄ± ve eÄŸlenceli etkinliklerin keyfini Ã§Ä±karÄ±n.",

        // DCS Academy Section
        academy_subtitle: "Becerilerinizi GeliÅŸtirin",
        academy_title: "DCS Akademi",
        academy_desc: "DCS pilotlarÄ± iÃ§in Ã¼cretsiz eÄŸitim uygulamamÄ±z. Ä°nteraktif dersler, quizler, kokpit rehberleri ve taktik eÄŸitim â€” hepsi tek yerde.",
        academy_feat1: "ğŸ“š F-16C & F/A-18C ders modÃ¼lleri",
        academy_feat2: "ğŸ§  XP'li interaktif quiz sistemi",
        academy_feat3: "ğŸ¯ Brevity kodlarÄ± & taktik eÄŸitim",
        academy_feat4: "ğŸ“‹ Cold start kontrol listeleri",
        academy_open: "Web UygulamayÄ± AÃ§",
        academy_download: "UygulamayÄ± Ä°ndir",

        // Leadership Section
        leadership_subtitle: "KomutanlÄ±ÄŸÄ±mÄ±z",
        leadership_title: "Liderlik",
        leader_onur_role: "Filo Sahibi",
        leader_tk_role: "Filo YardÄ±mcÄ±sÄ±",

        // Gallery Section
        gallery_subtitle: "Aksiyonda",
        gallery_title: "Galeri",

        // Recruitment Section
        recruit_subtitle: "AvcÄ± Olmaya HazÄ±r mÄ±sÄ±n? Yoksa Av mÄ± Olmak Ä°stiyorsun?",
        recruit_title: "<span>AvcÄ±lara</span> KatÄ±l",
        recruit_desc: "101. AvcÄ± Filosu, seÃ§kin bir sanal filonun parÃ§asÄ± olmak isteyen motivasyonlu pilotlarÄ± aktif olarak aramaktadÄ±r. MÃ¼kemmellik aramÄ±yoruz â€” adanmÄ±ÅŸlÄ±k arÄ±yoruz.",
        recruit_attendance_title: "KatÄ±lÄ±m",
        recruit_attendance_desc: "Aktif olun ve filo etkinliklerine ve gÃ¶revlerine dÃ¼zenli olarak katÄ±lÄ±n.",
        recruit_commitment_title: "BaÄŸlÄ±lÄ±k",
        recruit_commitment_desc: "Becerilerinizi geliÅŸtirmeye ve kanat arkadaÅŸlarÄ±nÄ±zÄ± desteklemeye adanmÄ±ÅŸlÄ±k gÃ¶sterin.",
        recruit_teamwork_title: "TakÄ±m Ã‡alÄ±ÅŸmasÄ±",
        recruit_teamwork_desc: "BaÅŸkalarÄ±yla iyi Ã§alÄ±ÅŸÄ±n ve filo kÃ¼ltÃ¼rÃ¼ne olumlu katkÄ±da bulunun.",
        recruit_apply: "Discord'dan BaÅŸvur",

        // Server Status Section
        server_subtitle: "CanlÄ± Sunucular (3)",
        server_title: "Sunucu Durumu",
        server_checking: "Kontrol ediliyor...",
        server_loading: "GÃ¶rev verileri yÃ¼kleniyor...",
        server_map: "Mevcut Harita",
        server_players: "Ã‡evrimiÃ§i Pilotlar",
        server_time: "GÃ¶rev SÃ¼resi",
        server_player_list: "Ã‡evrimiÃ§i Pilotlar",
        server_note: "Sunucu verileri her 30 saniyede gÃ¼ncellenir. GerÃ§ek zamanlÄ± gÃ¼ncellemeler iÃ§in Discord'umuza katÄ±lÄ±n!",

        // Leaderboard Section
        web_lb_nav: "SÄ±ralama",
        web_lb_subtitle: "Caucasus Extended Dynamic Campaign",
        web_lb_title: "ğŸ† Liderlik Tablosu",
        web_lb_total: "Toplam Oyuncu",
        web_lb_active: "Aktif Pilotlar",
        web_lb_highest: "En YÃ¼ksek Puan",
        web_lb_rank: "#",
        web_lb_pilot: "Pilot",
        web_lb_credits_col: "Kredi",
        web_lb_auto_update: "Her 60 saniyede otomatik gÃ¼ncellenir",

        // Footer
        footer_copyright: 'Â© 2025 101. AvcÄ± Filosu. TÃ¼m haklarÄ± saklÄ±dÄ±r.<br><em>"Ä°ki tÃ¼r filo vardÄ±r; AvcÄ±lar ve hedefleri."</em>'
    },

    de: {
        // Navigation
        nav_home: "Startseite",
        nav_about: "Ãœber uns",
        nav_operations: "Operationen",
        nav_leadership: "FÃ¼hrung",
        nav_gallery: "Galerie",
        nav_join: "Beitreten",

        // Hero
        hero_motto: '"Es gibt 2 Arten von Staffeln; JÃ¤ger und unsere Ziele."',
        hero_discord: "Discord beitreten",
        hero_learn: "Mehr erfahren",
        hero_scroll: "Scrollen",

        // About Section
        about_title: "Ãœber <span>Die JÃ¤ger</span>",
        about_p1: "Die 101st Hunter Squadron ist eine Elite-DCS-Kampfstaffel, die sich der ultimativen Kampfflugsimulation widmet. Mit Sitz in Adana vereinen wir erfahrene Piloten aus der ganzen Welt, die eine Leidenschaft fÃ¼r taktische Exzellenz und authentische MilitÃ¤rluftfahrt teilen.",
        about_p2: "Wir operieren hauptsÃ¤chlich mit der F-16 Fighting Falcon und der F/A-18C Hornet und beherrschen sowohl Luft-Luft-Kampf als auch PrÃ¤zisionsschlÃ¤ge. Unsere Staffel betont Teamarbeit, kontinuierliches Training und die Einhaltung hÃ¶chster Standards in der virtuellen KampffÃ¤higkeit.",
        about_f16_title: "F-16 Viper",
        about_f16_desc: "Mehrzweck-Exzellenz",
        about_f18_title: "F/A-18 Hornet",
        about_f18_desc: "TrÃ¤geroperationen",
        about_tactical_title: "Taktischer Fokus",
        about_tactical_desc: "Realwelt-Taktiken",
        about_global_title: "Globale Gemeinschaft",
        about_global_desc: "Vereint in den LÃ¼ften",

        // Operations Section
        ops_subtitle: "Was wir tun",
        ops_title: "Operationen",
        ops_training_title: "Training",
        ops_training_desc: "Umfassende Trainingsprogramme, die alles von grundlegenden Flugprinzipien bis hin zu fortgeschrittenen Kampftaktiken abdecken. Wir stellen sicher, dass jeder Pilot sein volles Potenzial erreicht.",
        ops_combat_title: "Kampfmissionen",
        ops_combat_desc: "RegelmÃ¤ÃŸige Kampfmissionen mit LuftÃ¼berlegenheit, Angriffspaketen, SEAD-Operationen und dynamischen Kampagnenszenarien gegen erfahrene Gegner.",
        ops_joint_title: "Gemeinsame Operationen",
        ops_joint_desc: "GemeinschaftsÃ¼bungen mit anderen Staffeln und Communities. Erlebe groÃŸangelegte Schlachten und koordinierte Angriffe, die deine Teamarbeit testen.",
        ops_competitive_title: "Wettbewerbe",
        ops_competitive_desc: "Nimm an Turnieren, Red-Flag-Ãœbungen und Wettbewerbsveranstaltungen teil, bei denen die JÃ¤ger ihre Dominanz am virtuellen Himmel beweisen.",
        ops_planning_title: "Missionsplanung",
        ops_planning_desc: "Detaillierte Briefings, taktische Planungssitzungen und Debriefings. Erlernen Sie richtige militÃ¤rische Planungsverfahren und DurchfÃ¼hrungsstrategien.",
        ops_casual_title: "Entspannte FlÃ¼ge",
        ops_casual_desc: "Nicht jeder Einsatz ist ernst! GenieÃŸe entspanntes Fliegen, Freiflug-Sessions und SpaÃŸveranstaltungen mit deinen Staffelkameraden.",

        // DCS Academy Section
        academy_subtitle: "Verbessere deine FÃ¤higkeiten",
        academy_title: "DCS Akademie",
        academy_desc: "Unsere kostenlose Trainings-App fÃ¼r DCS-Piloten. Interaktive Lektionen, Quizze, Cockpit-LeitfÃ¤den und taktisches Training â€” alles an einem Ort.",
        academy_feat1: "ğŸ“š F-16C & F/A-18C Lektionsmodule",
        academy_feat2: "ğŸ§  Interaktives Quiz-System mit XP",
        academy_feat3: "ğŸ¯ Brevity-Codes & taktisches Training",
        academy_feat4: "ğŸ“‹ Kaltstart-Checklisten",
        academy_open: "Web-App Ã¶ffnen",
        academy_download: "App herunterladen",

        // Leadership Section
        leadership_subtitle: "Unser Kommando",
        leadership_title: "FÃ¼hrung",
        leader_onur_role: "Staffel-Besitzer",
        leader_tk_role: "Staffel-Stellvertreter",

        // Gallery Section
        gallery_subtitle: "In Aktion",
        gallery_title: "Galerie",

        // Recruitment Section
        recruit_subtitle: "Bereit zu jagen? Oder willst du die Beute sein?",
        recruit_title: "Den <span>JÃ¤gern</span> beitreten",
        recruit_desc: "Die 101st Hunter Squadron sucht aktiv motivierte Piloten, die Teil einer Elite-Staffel werden wollen. Wir suchen keine Perfektion â€” wir suchen Hingabe.",
        recruit_attendance_title: "Teilnahme",
        recruit_attendance_desc: "Sei aktiv und nimm regelmÃ¤ÃŸig an Staffel-Events und Missionen teil.",
        recruit_commitment_title: "Engagement",
        recruit_commitment_desc: "Zeige Hingabe bei der Verbesserung deiner FÃ¤higkeiten und unterstÃ¼tze deine FlÃ¼gelkameraden.",
        recruit_teamwork_title: "Teamarbeit",
        recruit_teamwork_desc: "Arbeite gut mit anderen zusammen und trage positiv zur Staffelkultur bei.",
        recruit_apply: "Auf Discord bewerben",

        // Server Status Section
        server_subtitle: "Live-Server (3)",
        server_title: "Serverstatus",
        server_checking: "PrÃ¼fe...",
        server_loading: "Missionsdaten werden geladen...",
        server_map: "Aktuelle Karte",
        server_players: "Spieler Online",
        server_time: "Missionszeit",
        server_player_list: "Online-Piloten",
        server_note: "Serverdaten werden alle 30 Sekunden aktualisiert. Tritt unserem Discord fÃ¼r Echtzeit-Updates bei!",

        // Leaderboard Section
        web_lb_nav: "Rangliste",
        web_lb_subtitle: "Caucasus Extended Dynamic Campaign",
        web_lb_title: "ğŸ† Rangliste",
        web_lb_total: "Spieler Gesamt",
        web_lb_active: "Aktive Piloten",
        web_lb_highest: "HÃ¶chste Punktzahl",
        web_lb_rank: "#",
        web_lb_pilot: "Pilot",
        web_lb_credits_col: "Credits",
        web_lb_auto_update: "Aktualisiert sich alle 60 Sekunden",

        // Footer
        footer_copyright: 'Â© 2025 101st Hunter Squadron. Alle Rechte vorbehalten.<br><em>"Es gibt 2 Arten von Staffeln; JÃ¤ger und unsere Ziele."</em>'
    }
};

// Language metadata
const LANG_META = {
    en: { flag: 'ğŸ‡¬ğŸ‡§', code: 'EN', name: 'English' },
    tr: { flag: 'ğŸ‡¹ğŸ‡·', code: 'TR', name: 'TÃ¼rkÃ§e' },
    de: { flag: 'ğŸ‡©ğŸ‡ª', code: 'DE', name: 'Deutsch' }
};

// Get saved language or default to English
function getCurrentLanguage() {
    return localStorage.getItem('lang') || 'tr';
}

// Update dropdown button to reflect current language
function updateDropdownButton(lang) {
    const meta = LANG_META[lang];
    const flagEl = document.getElementById('langFlag');
    const codeEl = document.getElementById('langCode');
    if (flagEl) flagEl.textContent = meta.flag;
    if (codeEl) codeEl.textContent = meta.code;

    // Mark active option
    document.querySelectorAll('.lang-option').forEach(opt => {
        opt.classList.toggle('active', opt.dataset.lang === lang);
    });
}

// Apply translations to all elements with data-i18n attribute
function applyTranslations(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            el.innerHTML = translations[lang][key];
        }
    });

    // Update HTML lang attribute
    document.documentElement.lang = lang;

    // Update dropdown button
    updateDropdownButton(lang);

    // Save preference
    localStorage.setItem('lang', lang);
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
    const savedLang = getCurrentLanguage();
    applyTranslations(savedLang);

    const dropdown = document.getElementById('langDropdown');
    const btn = document.getElementById('langDropdownBtn');

    // Toggle dropdown on button click
    if (btn) {
        btn.addEventListener('click', (e) => {
            e.stopPropagation();
            dropdown.classList.toggle('open');
        });
    }

    // Handle language option clicks
    document.querySelectorAll('.lang-option').forEach(opt => {
        opt.addEventListener('click', (e) => {
            e.stopPropagation();
            const lang = opt.dataset.lang;
            applyTranslations(lang);
            dropdown.classList.remove('open');
        });
    });

    // Close dropdown on outside click
    document.addEventListener('click', () => {
        if (dropdown) dropdown.classList.remove('open');
    });
});
